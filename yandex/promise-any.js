// Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÑ‘Ð½Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ð¼Ð¸Ñ
function any(promises) {
  return new Promise((resolve, reject) => {
    let rejectedCount = 0; // Ð¡Ñ‡Ð¸Ñ‚Ð°ÐµÐ¼, ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€Ð¾Ð¼Ð¸ÑÐ¾Ð² Ð¾Ñ‚ÐºÐ»Ð¾Ð½Ð¸Ð»Ð¾ÑÑŒ
    const errors = []; // ÐœÐ°ÑÑÐ¸Ð² Ð´Ð»Ñ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð¾ÑˆÐ¸Ð±Ð¾Ðº

    // ÐŸÐµÑ€ÐµÐ±Ð¸Ñ€Ð°ÐµÐ¼ Ð²ÑÐµ Ð¿ÐµÑ€ÐµÐ´Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð¼Ð¸ÑÑ‹
    promises.forEach((promise, index) => {
      // ÐžÐ±Ð¾Ñ€Ð°Ñ‡Ð¸Ð²Ð°ÐµÐ¼ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð² Promise.resolve â€” Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¾Ð±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ Ð¸ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ, Ð¸ Ð¿Ñ€Ð¾Ð¼Ð¸ÑÑ‹
      Promise.resolve(promise)
        .then((value) => {
          // âœ… Ð•ÑÐ»Ð¸ Ð¿Ñ€Ð¾Ð¼Ð¸Ñ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ð»ÑÑ â€” ÑÑ€Ð°Ð·Ñƒ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚
          resolve(value);
        })
        .catch((err) => {
          // âŒ Ð•ÑÐ»Ð¸ Ð¿Ñ€Ð¾Ð¼Ð¸Ñ Ð¾Ñ‚ÐºÐ»Ð¾Ð½Ñ‘Ð½ â€” Ð·Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÐ¼ Ð¾ÑˆÐ¸Ð±ÐºÑƒ
          errors[index] = err;
          rejectedCount++;

          // Ð•ÑÐ»Ð¸ Ð²ÑÐµ Ð¿Ñ€Ð¾Ð¼Ð¸ÑÑ‹ Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ñ‹ â€” Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ Ð¾Ð±Ñ‰ÑƒÑŽ Ð¾ÑˆÐ¸Ð±ÐºÑƒ
          if (rejectedCount === promises.length) {
            reject(new AggregateError(errors, "All promises were rejected"));
          }
        });
    });
  });
}

// ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ:
const p1 = Promise.reject("Error 1");
const p2 = Promise.reject("Error 2");
const p3 = Promise.resolve("3");

// ðŸ’¡ ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ: Ð²Ñ‹Ð²ÐµÐ´ÐµÑ‚ "3", Ñ‚.Ðº. ÑÑ‚Ð¾ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÑ‘Ð½Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ð¼Ð¸Ñ
any([p1, p2, p3]).then((result) => console.log("âœ… Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:", result));
